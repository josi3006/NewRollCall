{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\src\\\\pages\\\\Dashboard.js\";\n\nimport React, { useEffect, useState } from \"react\"; // import fire from \"../../firebase\";\n// import { auth } from \"../../firebase\";\n\nimport { db } from \"../../firebase\"; // import Navbar from \"../../components/navbar/navbar\";\n\nimport StudentList from \"../../components/studentlist/studentList\"; // import SideNav from \"../../components/sidebarnav\";\n// import { Sidenav } from \"materialize-css\";\n// import \"./style.css\";\n\nvar Dashboard = function Dashboard() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      students = _useState2[0],\n      setStudents = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newStudentName = _useState4[0],\n      setNewStudentName = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\n\n  var clearForm = function clearForm() {\n    setNewStudentName(\"\");\n  };\n\n  var fetchStudents = function fetchStudents() {\n    // fire\n    // \t.database()\n    db.ref(\"/teachers/\".concat(teacherID, \"/students/\")).once(\"value\").then(function (snapshot) {\n      if (!snapshot.val()) {\n        console.log(\"Zach Sadovszky\");\n      }\n\n      setStudents(snapshot.val());\n      setLoading(false);\n    });\n  };\n\n  var addStudent = function addStudent(studentName) {\n    var updates = {};\n    var newStudentId = Date.now();\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/id\")] = newStudentId;\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/name\")] = studentName; // fire\n    //   .database()\n\n    db.ref().update(updates).then(function () {\n      fetchStudents();\n      clearForm();\n    });\n  };\n\n  useEffect(function () {\n    fetchStudents();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"HELLO JOHN!\"));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/John/git/Firebase-auth-chat-app/src/pages/Dashboard.js"],"names":["React","useEffect","useState","db","StudentList","Dashboard","students","setStudents","newStudentName","setNewStudentName","loading","setLoading","teacherID","localStorage","getItem","clearForm","fetchStudents","ref","once","then","snapshot","val","console","log","addStudent","studentName","updates","newStudentId","Date","now","update"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CAEA;AAEA;;AACA,SAASC,EAAT,QAAmB,gBAAnB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,0CAAxB,C,CACA;AACA;AACA;;AAKA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBACYH,QAAQ,CAAC,EAAD,CADpB;AAAA;AAAA,MACbI,QADa;AAAA,MACHC,WADG;;AAAA,mBAEwBL,QAAQ,CAAC,EAAD,CAFhC;AAAA;AAAA,MAEbM,cAFa;AAAA,MAEGC,iBAFH;;AAAA,mBAGUP,QAAQ,CAAC,IAAD,CAHlB;AAAA;AAAA,MAGbQ,OAHa;AAAA,MAGJC,UAHI;;AAKpB,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAlB;;AAEA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBN,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACD,GAFD;;AAIA,MAAMO,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B;AACA;AACAb,IAAAA,EAAE,CACCc,GADH,qBACoBL,SADpB,iBAEGM,IAFH,CAEQ,OAFR,EAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AAClB,UAAI,CAACA,QAAQ,CAACC,GAAT,EAAL,EAAqB;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;;AACDhB,MAAAA,WAAW,CAACa,QAAQ,CAACC,GAAT,EAAD,CAAX;AACAV,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KATH;AAUD,GAbD;;AAeA,MAAMa,UAAU,GAAG,SAAbA,UAAa,CAACC,WAAD,EAAiB;AAClC,QAAMC,OAAO,GAAG,EAAhB;AACA,QAAMC,YAAY,GAAGC,IAAI,CAACC,GAAL,EAArB;AACAH,IAAAA,OAAO,oBAAad,SAAb,uBAAmCe,YAAnC,SAAP,GAA+DA,YAA/D;AACAD,IAAAA,OAAO,oBACOd,SADP,uBAC6Be,YAD7B,WAAP,GAEIF,WAFJ,CAJkC,CAOlC;AACA;;AACAtB,IAAAA,EAAE,CACCc,GADH,GAEGa,MAFH,CAEUJ,OAFV,EAGGP,IAHH,CAGQ,YAAM;AACVH,MAAAA,aAAa;AACbD,MAAAA,SAAS;AACV,KANH;AAOD,GAhBD;;AAkBAd,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF;AAMD,CAtDH;;AAwDE,eAAeX,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\n// import fire from \"../../firebase\";\r\n\r\n// import { auth } from \"../../firebase\";\r\nimport { db } from \"../../firebase\";\r\n\r\n// import Navbar from \"../../components/navbar/navbar\";\r\nimport StudentList from \"../../components/studentlist/studentList\";\r\n// import SideNav from \"../../components/sidebarnav\";\r\n// import { Sidenav } from \"materialize-css\";\r\n// import \"./style.css\";\r\n\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n    const [students, setStudents] = useState({});\r\n    const [newStudentName, setNewStudentName] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n  \r\n    const teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\r\n  \r\n    const clearForm = () => {\r\n      setNewStudentName(\"\");\r\n    };\r\n  \r\n    const fetchStudents = () => {\r\n      // fire\r\n      // \t.database()\r\n      db\r\n        .ref(`/teachers/${teacherID}/students/`)\r\n        .once(\"value\")\r\n        .then((snapshot) => {\r\n          if (!snapshot.val()) {\r\n            console.log(\"Zach Sadovszky\");\r\n          }\r\n          setStudents(snapshot.val());\r\n          setLoading(false);\r\n        });\r\n    };\r\n  \r\n    const addStudent = (studentName) => {\r\n      const updates = {};\r\n      const newStudentId = Date.now();\r\n      updates[`teachers/${teacherID}/students/${newStudentId}/id`] = newStudentId;\r\n      updates[\r\n        `teachers/${teacherID}/students/${newStudentId}/name`\r\n      ] = studentName;\r\n      // fire\r\n      //   .database()\r\n      db\r\n        .ref()\r\n        .update(updates)\r\n        .then(() => {\r\n          fetchStudents();\r\n          clearForm();\r\n        });\r\n    };\r\n  \r\n    useEffect(() => {\r\n      fetchStudents();\r\n    }, []);\r\n  \r\n    return (\r\n      <>\r\n        <div>HELLO JOHN!</div>\r\n        </>\r\n        \r\n    );\r\n  };\r\n  \r\n  export default Dashboard;\r\n  "]},"metadata":{},"sourceType":"module"}