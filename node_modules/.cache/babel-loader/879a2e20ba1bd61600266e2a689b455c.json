{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\src\\\\pages\\\\Dashboard.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport Footer from \"../components/Footer\"; // import fire from \"../../firebase\";\n// import { auth } from \"../../firebase\";\n// import { db } from \"../../firebase\";\n// import Navbar from \"../../components/navbar/navbar\";\n// import StudentList from \"../../components/studentlist/studentList\";\n// import SideNav from \"../../components/sidebarnav\";\n// import { Sidenav } from \"materialize-css\";\n// import \"./style.css\";\n\nvar Dashboard = function Dashboard() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      students = _useState2[0],\n      setStudents = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newStudentName = _useState4[0],\n      setNewStudentName = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\n\n  var clearForm = function clearForm() {\n    setNewStudentName(\"\");\n  };\n\n  var fetchStudents = function fetchStudents() {\n    // fire\n    // \t.database()\n    db.ref(\"/teachers/\".concat(teacherID, \"/students/\")).once(\"value\").then(function (snapshot) {\n      if (!snapshot.val()) {\n        console.log(\"Zach Sadovszky\");\n      }\n\n      setStudents(snapshot.val());\n      setLoading(false);\n    });\n  };\n\n  var addStudent = function addStudent(studentName) {\n    var updates = {};\n    var newStudentId = Date.now();\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/id\")] = newStudentId;\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/name\")] = studentName; // fire\n    //   .database()\n\n    db.ref().update(updates).then(function () {\n      fetchStudents();\n      clearForm();\n    });\n  };\n\n  useEffect(function () {\n    fetchStudents();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center col s4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"newStudentHeader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }, \"Add a Student\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(event) {\n      return setNewStudentName(event.currentTarget.value);\n    },\n    value: newStudentName,\n    id: \"newStudentInput\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center transparent z-depth-0 addStudent col s5\",\n    onClick: function onClick() {\n      return addStudent(newStudentName);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addbutton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"material-icons icon-creamyyy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }, \"add\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s12 studentList \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(StudentList, {\n    students: students,\n    refreshStudentList: fetchStudents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  })))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/John/git/Firebase-auth-chat-app/src/pages/Dashboard.js"],"names":["React","useEffect","useState","Footer","Dashboard","students","setStudents","newStudentName","setNewStudentName","loading","setLoading","teacherID","localStorage","getItem","clearForm","fetchStudents","db","ref","once","then","snapshot","val","console","log","addStudent","studentName","updates","newStudentId","Date","now","update","event","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport Footer from \"../components/Footer\";\r\n\r\n// import fire from \"../../firebase\";\r\n\r\n// import { auth } from \"../../firebase\";\r\n// import { db } from \"../../firebase\";\r\n\r\n// import Navbar from \"../../components/navbar/navbar\";\r\n// import StudentList from \"../../components/studentlist/studentList\";\r\n// import SideNav from \"../../components/sidebarnav\";\r\n// import { Sidenav } from \"materialize-css\";\r\n// import \"./style.css\";\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n\r\n    const [students, setStudents] = useState({});\r\n    const [newStudentName, setNewStudentName] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\r\n\r\n    const clearForm = () => {\r\n        setNewStudentName(\"\");\r\n    };\r\n\r\n    const fetchStudents = () => {\r\n        // fire\r\n        // \t.database()\r\n        db\r\n            .ref(`/teachers/${teacherID}/students/`)\r\n            .once(\"value\")\r\n            .then((snapshot) => {\r\n                if (!snapshot.val()) {\r\n                    console.log(\"Zach Sadovszky\");\r\n                }\r\n                setStudents(snapshot.val());\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    const addStudent = (studentName) => {\r\n        const updates = {};\r\n        const newStudentId = Date.now();\r\n        updates[`teachers/${teacherID}/students/${newStudentId}/id`] = newStudentId;\r\n        updates[\r\n            `teachers/${teacherID}/students/${newStudentId}/name`\r\n        ] = studentName;\r\n        // fire\r\n        //   .database()\r\n        db\r\n            .ref()\r\n            .update(updates)\r\n            .then(() => {\r\n                fetchStudents();\r\n                clearForm();\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchStudents();\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='center col s4'>\r\n                        <section>\r\n                            <h5 className='newStudentHeader'>Add a Student</h5>\r\n                            <input\r\n                                onChange={(event) =>\r\n                                    setNewStudentName(event.currentTarget.value)\r\n                                }\r\n                                value={newStudentName}\r\n                                id='newStudentInput'\r\n                            />\r\n                            <div\r\n                                className='center transparent z-depth-0 addStudent col s5'\r\n                                onClick={() => addStudent(newStudentName)}>\r\n                                <div className='addbutton'>\r\n                                    <i class='material-icons icon-creamyyy'>add</i>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='col s12 studentList '>\r\n                        {loading ? (\r\n                            <div>Loading...</div>\r\n                        ) : (\r\n                                <StudentList\r\n                                    students={students}\r\n                                    refreshStudentList={fetchStudents}\r\n                                />\r\n                            )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}