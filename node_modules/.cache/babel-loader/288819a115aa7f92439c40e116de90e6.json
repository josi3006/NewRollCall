{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\John\\\\git\\\\Firebase-auth-chat-app\\\\src\\\\pages\\\\Dashboard.js\";\n\nimport React, { useEffect, useState } from \"react\"; // import fire from \"../../firebase\";\n// import { auth } from \"../../firebase\";\n\nimport { db } from \"../../firebase\";\nimport Navbar from \"../../components/navbar/navbar\";\nimport StudentList from \"../../components/studentlist/studentList\"; // import SideNav from \"../../components/sidebarnav\";\n// import { Sidenav } from \"materialize-css\";\n\nimport \"./style.css\";\n\nvar Dashboard = function Dashboard() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      students = _useState2[0],\n      setStudents = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newStudentName = _useState4[0],\n      setNewStudentName = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\n\n  var clearForm = function clearForm() {\n    setNewStudentName(\"\");\n  };\n\n  var fetchStudents = function fetchStudents() {\n    // fire\n    // \t.database()\n    db.ref(\"/teachers/\".concat(teacherID, \"/students/\")).once(\"value\").then(function (snapshot) {\n      if (!snapshot.val()) {\n        console.log(\"Zach Sadovszky\");\n      }\n\n      setStudents(snapshot.val());\n      setLoading(false);\n    });\n  };\n\n  var addStudent = function addStudent(studentName) {\n    var updates = {};\n    var newStudentId = Date.now();\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/id\")] = newStudentId;\n    updates[\"teachers/\".concat(teacherID, \"/students/\").concat(newStudentId, \"/name\")] = studentName; // fire\n    //   .database()\n\n    db.ref().update(updates).then(function () {\n      fetchStudents();\n      clearForm();\n    });\n  };\n\n  useEffect(function () {\n    fetchStudents();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center col s4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"newStudentHeader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Add a Student\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(event) {\n      return setNewStudentName(event.currentTarget.value);\n    },\n    value: newStudentName,\n    id: \"newStudentInput\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center transparent z-depth-0 addStudent col s5\",\n    onClick: function onClick() {\n      return addStudent(newStudentName);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addbutton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"material-icons icon-creamyyy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"add\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s12 studentList \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(StudentList, {\n    students: students,\n    refreshStudentList: fetchStudents,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  })))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/John/git/Firebase-auth-chat-app/src/pages/Dashboard.js"],"names":["React","useEffect","useState","db","Navbar","StudentList","Dashboard","students","setStudents","newStudentName","setNewStudentName","loading","setLoading","teacherID","localStorage","getItem","clearForm","fetchStudents","ref","once","then","snapshot","val","console","log","addStudent","studentName","updates","newStudentId","Date","now","update","event","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\n// import fire from \"../../firebase\";\r\n\r\n// import { auth } from \"../../firebase\";\r\nimport { db } from \"../../firebase\";\r\n\r\nimport Navbar from \"../../components/navbar/navbar\";\r\nimport StudentList from \"../../components/studentlist/studentList\";\r\n// import SideNav from \"../../components/sidebarnav\";\r\n// import { Sidenav } from \"materialize-css\";\r\nimport \"./style.css\";\r\n\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n    const [students, setStudents] = useState({});\r\n    const [newStudentName, setNewStudentName] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n  \r\n    const teacherID = localStorage.getItem(\"UR_APP_teacher_id\");\r\n  \r\n    const clearForm = () => {\r\n      setNewStudentName(\"\");\r\n    };\r\n  \r\n    const fetchStudents = () => {\r\n      // fire\r\n      // \t.database()\r\n      db\r\n        .ref(`/teachers/${teacherID}/students/`)\r\n        .once(\"value\")\r\n        .then((snapshot) => {\r\n          if (!snapshot.val()) {\r\n            console.log(\"Zach Sadovszky\");\r\n          }\r\n          setStudents(snapshot.val());\r\n          setLoading(false);\r\n        });\r\n    };\r\n  \r\n    const addStudent = (studentName) => {\r\n      const updates = {};\r\n      const newStudentId = Date.now();\r\n      updates[`teachers/${teacherID}/students/${newStudentId}/id`] = newStudentId;\r\n      updates[\r\n        `teachers/${teacherID}/students/${newStudentId}/name`\r\n      ] = studentName;\r\n      // fire\r\n      //   .database()\r\n      db\r\n        .ref()\r\n        .update(updates)\r\n        .then(() => {\r\n          fetchStudents();\r\n          clearForm();\r\n        });\r\n    };\r\n  \r\n    useEffect(() => {\r\n      fetchStudents();\r\n    }, []);\r\n  \r\n    return (\r\n      <>\r\n        <Navbar />\r\n        <div className='container'>\r\n          <div className='row'>\r\n            <div className='center col s4'>\r\n              <section>\r\n                <h5 className='newStudentHeader'>Add a Student</h5>\r\n                <input\r\n                  onChange={(event) =>\r\n                    setNewStudentName(event.currentTarget.value)\r\n                  }\r\n                  value={newStudentName}\r\n                  id='newStudentInput'\r\n                />\r\n                <div\r\n                  className='center transparent z-depth-0 addStudent col s5'\r\n                  onClick={() => addStudent(newStudentName)}>\r\n                  <div className='addbutton'>\r\n                    <i class='material-icons icon-creamyyy'>add</i>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='container'>\r\n          <div className='row'>\r\n            <div className='col s12 studentList '>\r\n              {loading ? (\r\n                <div>Loading...</div>\r\n              ) : (\r\n                  <StudentList\r\n                    students={students}\r\n                    refreshStudentList={fetchStudents}\r\n                  />\r\n                )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  \r\n  export default Dashboard;\r\n  "]},"metadata":{},"sourceType":"module"}